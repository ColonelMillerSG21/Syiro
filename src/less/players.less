@import (reference) "core.less"; // Import Core as a reference

// #region Shared Player Control

div[data-syiro-component="player-control"]{
    float: left;
    height: 50px;
    width: 100%; // Scales to width of video player if necessary
    min-width: 350px; // Minimum width of the audio player
    background-color: @syiroSecondaryColor; // Secondary "Dark" control background

    & > div[data-syiro-component="button"][data-syiro-component-type="basic"]{ // Custom LESS for Basic Button Components inside Player Control
        float: left;
        height: 32px;
        width: 32px;
        min-width: 0 !important; // Override Basic Button minimum width
        background-color: @syiroSecondaryColor;
        border: 2px solid @syiroWhite; // White background
        border-radius: 32px; // Make the buttons "circular"
        margin: 7px !important; // Center on Player Control

        &:not(:first-of-type){ // If the button is the last one
            float: right; // Float to the right of the Player Control
        }

        &[data-syiro-component-status="true"]{ // When the button is active
            background-color: @syiroPrimaryColor;
            border: 2px solid @syiroPrimaryColor;
        }

        &[data-syiro-minor-component="player-button-play"]{ // Play Button
            background-image : url("img/play.png"); // Set the background-image to img/play.png
            background-repeat: no-repeat;
            background-position: center center;
        }

        &[data-syiro-minor-component="player-button-volume"]{ // Volume Button
            background-image : url("img/volume.png"); // Set the background-image to img/volume.png
            background-repeat: no-repeat;
            background-position: center center;
        }

        &[data-syiro-minor-component="player-button-menu"]{ // Menu Button
            float: right; // Ensure it floats to the right
            background-image : url("img/menu-inverted.png"); // Set the background-image to use the inverted menu image
            background-repeat: no-repeat;
            background-position: center center;
        }
    }

    // #region Our "slider" / input range

    & > input[type="range"]{

        // #region Range "Track"

        .trackProperties(){
            -moz-appearance: none !important; // No Firefox styling
            -webkit-appearance: none !important; // No WebKit styling
            float: left;
            height: 7.5px !important;
            width: auto !important;
            background-color: @syiroWhite;
            border-radius: 3.75px !important;
            border-top: 0 !important;
            border-bottom: 0 !important;
            margin-top: 21.75px !important; // Center on Player Control
            margin-left: 0 !important;
            margin-right: 0 !important;
            padding: 0 !important;
        }

        &::-moz-range-track { // Firefox
            .trackProperties;
        }

        &::-ms-track{ // Internet Explorer
            .trackProperties; // Import the trackProperties
        }

        &::-ms-fill-lower, &::-ms-fill-upper{ // Internet Explorer - Fill
            height: 7.5px;
            background-color: transparent !important; // No background
        }

        .trackProperties; // Place in input[type="range"] for Chrome

        // #endregion

        // #region Range "Outer Focus" (Border around track when interacting with Element)

        &:focus, &::-moz-focus-outer{ // Chrome and Firefox Border on Focus
            border: 0 !important;
            outline: 0 !important;
        }

        // #endregion

        // #region Range Thumb

        .thumbProperties() {
            -moz-appearance: none !important; // No Firefox appearance
            -webkit-appearance: none !important; // No WebKit appearance

            height: 16px !important;
            width: 16px !important;
            border: 0 !important;
            background-color: @syiroPrimaryColor !important;
            background-image: none; // Mozilla applies an SVG image as the thumbnail. Lets remove that.
            border-radius: 8px; // Make it round
        }

        &::-moz-range-thumb { // Firefox "Thumb" Styling
            .thumbProperties; // Import Thumb Styling
        }

        &::-ms-thumb { // Internet Explorer "Thumb" Styling
            .thumbProperties; // Import Thumb Styling
        }

        &::-webkit-slider-thumb{ // Chrome "Thumb" Styling
            .thumbProperties; // Import Thumb Styling
        }

        // #endregion
    }

    // #endregion

    // #region Label Time Information

    & > time {
        float: left;
        height: 50px;
        width: auto;
        color: @syiroWhite;
        font-size: 14px;
        line-height: 50px;
        margin: 0 10px 0 10px;
    }
}

// #endregion

// #region Share Dialog

div[data-syiro-minor-component="player-share"]{
    float: left;
    color: @syiroWhite;
    background-color: rgba(51,51,51,0.8); // Set the background color to #333333 at 80% opacity
    margin: 0;
    padding: 0;
    position: absolute;
    z-index: 6; // Force above the video and video poster
    visibility: hidden; // Default to not being visible
    left: 0; // Force to left

    & > label { // Share Dialog Label
        float: left;
        height: 50px;
        width: 100%;
        font-size: 22px;
        text-indent: 10px;
        line-height: 50px;
    }

    & > div[data-syiro-component="list"]{ // Share Dialog List
        float: left;
        height: auto;
        width: 90%;
        font-size: 18px !important;

        & > div[data-syiro-component="list-item"] {
            cursor: pointer; // Make it obvious that the items are interactable
            margin-bottom: 5px; // Ensure there is enough space between List Items
        }
    }
}

// #region Audio Player

div[data-syiro-component="audio-player"]{
    float: left;
    height: auto;
    min-height: 50px; // Minimum height of player is the Player Control
    max-height: 150px; // Maximum height of player is the Player Control and Player Information
    background-color: @syiroGrey; // Grey background

    & > audio {
        display: hidden; // Hide the audio player
    }

    & > div[data-syiro-minor-component="player-share"]{ // Share Dialog within Audio Player
        & > div[data-syiro-component="list"] > div[data-syiro-component="list-item"] { // Inner List Items
            width: 40px; // Set width to 40px
            margin-left: 10px; // Ensure the List Item has enough space between the icons and is aligned with the Share label

            & > img { // If there is an image within the List Item
                height: 32px !important; // Reduce the height of the image
                width: 32px !important; // Reduce the width of the image
                margin: 4px 0 0 0; // Ensure the img looks good in the Audio Player's Share Dialog "Grid View"
            }

            & > label { // Labels within List Items
                display: none; // Hide the list item
            }
        }
    }

    & > div[data-syiro-minor-component="player-information"]{ // Information in the Audio Player like cover art
        & > img { // Cover Art
            float: left;
            height: 100px;
            width: 100px;
        }

        & > section { // Song Information
            float: left;
            height: 100px;
            width: 250px;

            & > b,label {
                float: left;
                height: 28px;
                width: 100%; // Fill up entire "row"
            }

            & > b {
                color: @syiroPrimaryColor; // Primary color to differentiate from other content
                font-size: 16px;
                font-weight: normal; // No font-weight
            }

            & > label {
                color: @syiroSecondaryColor; // Secondary color
                font-size: 14px; // Slightly smaller than song title
            }
        }
    }
}

// #endregion

// #region Video Player

div[data-syiro-component="video-player"]{
    float: left;
    background-color: black; // Set the Video Player Component to have a black background to match video letterboxing color

    & > div[data-syiro-minor-component="player-share"] > div[data-syiro-component="list"] > div[data-syiro-component="list-item"]{
        & > img { // If there is an image within the List Item
            height: 32px !important; // Reduce the height of the image
            width: 32px !important; // Reduce the width of the image
            margin: 4px 5px 0 10px; // Make sure the image is properly aligned with the Share label and label text
        }
    }

    & > div[data-syiro-minor-component="video-ad"]{ // Video "Ad" Label
        float: left;
        height: 40px;
        width: 50px;
        color: #fafafa;
        text-align: center; // Center text
        line-height: 40px;
        background-color: rgba(51,51,51,0.6); // #333333 at 60% opacity
        position: fixed;
        z-index: 4; // Sit below video poster, will only show when video-poster disappears
    }

    & > img[data-syiro-minor-component="video-poster"]{ // Video Poster
        float: left;
        margin: 0;
        padding: 0;
        position: absolute;
        z-index: 5; // Force above the video
        left: 0; // Force to left
    }

    & > video { // Inner video
        float: left;
        width: 100%; // 100% width of Player Component
        background-color: black; // Set background color of video to black in the event it doesn't have the proper aspect ratio, to make any letterboxing less jarring

        &:focus { // When the video is focused, typically on right-click, disable the border / outline
            border: 0;
            outline: 0;
        }
    }

    & > div[data-syiro-component="player-control"] { // Overrides for Video Player's Player Control
        position: relative;
        z-index: 6; // Force above video poster
    }
}

// #endregion
