<!DOCTYPE html>
<html manifest="test.appcache">
	<head>
		<title>Dynamic Rocket Testing</title>
		<link rel="stylesheet" type="text/css" href="css/rocket.css">
		<script type="text/javascript" src="js/rocket.min.js"></script>
		<meta charset="utf-8" />
	</head>
	<body>
		<div data-rocket-component="page"></div>
		<script>
			rocket.Init();

			var generatedLabelHeaderDropdown = rocket.dropdown.Generate(
					{
						"label" : "Test Dropdown",
						"items" : [	{ "label" : "Test Item" }, { "label" : "Second Test Item" }	]
					}
			);

			var generatedIconHeaderDropdown = rocket.dropdown.Generate(
				{
					"icon" : "css/img/menu.png", // Icon only Dropdown
					"position" : { "vertical" : "below", "horizontal" : "left"}, // Different positioning
					"items" : [	{ "label" : "These do nothing." }, { "label" : "Intentional, FYI." }	]
				}
			);

			rocket.CSS(generatedIconHeaderDropdown, "float", "right"); // Float the Icon Header to the right

			var generatedHeader = rocket.header.Generate(
					{
						"items" : [
							{
								"type" : "link",
								"link" : "https://stroblindustries.com",
								"content" : "Example Link"
							},
							{
								"type" : "dropdown",
								"component" : generatedLabelHeaderDropdown
							},
							{
								"type" : "dropdown",
								"component" : generatedIconHeaderDropdown
							}
						]
					}
			);

			var generatedAudioPlayer = rocket.audioplayer.Generate(
					{
						"sources": "http://upload.wikimedia.org/wikipedia/commons/c/c8/Example.ogg",
						"art" : "http://upload.wikimedia.org/wikipedia/en/thumb/a/ac/XiphophorusLogoSVG.svg/132px-XiphophorusLogoSVG.svg.png",
						"title" : "Example OGG File",
						"artist" : "JesseW",
						"album": "Wikipedia"
					}
			);

			rocket.CSS(generatedAudioPlayer, "margin-right", "80%"); // Set CSS margin for Audio Player

			var generatedVideoPlayer = rocket.videoplayer.Generate(
					{
						"art" : "img/video-art.png",
						"sources" : ["http://download.blender.org/peach/trailer/trailer_400p.ogg", "http://download.blender.org/peach/trailer/trailer_480p.mov"]
					}
			);

			rocket.CSS(generatedVideoPlayer, "margin-right", "80%"); // Set CSS margin for Video Player

			var generatedHeaderElement = rocket.Fetch(generatedHeader); // Fetch the Header
			document.querySelector("body").insertBefore(generatedHeaderElement, document.querySelector("body").firstChild);

			var generatedButton = rocket.button.Generate({"type" : "basic", "content" : "Hello"}); // Generate a Basic Button
			document.querySelector('div[data-rocket-component="page"]').appendChild(rocket.Fetch(generatedButton));

			var generatedButtonTwo = rocket.button.Generate({"type" : "basic", "content" : "Test 2"}); // Generate a Basic Button
			document.querySelector('div[data-rocket-component="page"]').appendChild(rocket.Fetch(generatedButtonTwo));

			document.querySelector('div[data-rocket-component="page"]').appendChild(rocket.Fetch(generatedAudioPlayer));
			document.querySelector('div[data-rocket-component="page"]').appendChild(rocket.Fetch(generatedVideoPlayer));

			var generatedToggle = rocket.button.Generate({"type" : "toggle"}); // Generate a Toggle Button

			var generatedFooter = rocket.footer.Generate({"content" : "Strobl Industries"}); // Generate a Footer
			document.querySelector("body").appendChild(rocket.Fetch(generatedFooter));

			var generatedSearchbox = rocket.searchbox.Generate(); // Generate a Searchbox
			rocket.Add(true, generatedHeader, generatedSearchbox); // Append the Searchbox to the Header

			rocket.AddListeners(generatedButton, function(x){console.log("First Button Hit!")}); // Listen to the Basic Button
			rocket.AddListeners(generatedButtonTwo, // Listen to the Basic Button
				function(x){
					var component = arguments[0];
					var currentColor = rocket.CSS(component, "background-color"); // Get the current color of the button (if anything)

					if (currentColor !== "red"){ // If the color is NOT red
						rocket.CSS(component, "background-color", "red"); // Change to red
					}
					else{ // If the color is red
						rocket.CSS(component, "background-color", false); // Remove the red
					}
				}
			);

			rocket.AddListeners(generatedSearchbox, function(x){console.log(arguments[1])}); // Listen to the Searchbox value change

			var testListItem = rocket.Define("list-item", 'div[data-rocket-component="list"] > div:first-of-type');
			var secondListItem = rocket.Define("list-item", 'div[data-rocket-component="list"] > div:nth-of-type(2)');

			rocket.listitem.SetLabel(testListItem, "First!");
			rocket.listitem.SetControl(testListItem, generatedToggle);

			rocket.AddListeners(generatedToggle, function(x){console.log(x)}); // Listen to the Generated Toggle Button
			rocket.AddListeners(secondListItem, function(x){console.log("List Item Hit!")}); // Listen to the second List Item
		</script>
	</body>
</html>
