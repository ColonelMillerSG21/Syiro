<!DOCTYPE html>
<html>
	<head>
		<title>Dynamic Rocket Testing</title>
		<link rel="stylesheet" type="text/css" href="css/rocket.css">
		<script type="text/javascript" src="js/rocket.min.js"></script>
	</head>
	<body>
		<main data-rocket-component="page"></main>
		<script>
			rocket.Init();

			var generatedHeaderDropdown = rocket.generate.Dropdown(
					{
						"label" : {
							"content" : "Test Dropdown"
						},
						"items" : [
							{
								"label" : "Test Item"
							},
							{
								"label" : "Second Test Item"
							}
						]
					}
			);

			var generatedHeader = rocket.generate.Header(
					{
						"items" : [
							{
								"type" : "link",
								"link" : "https://stroblindustries.com",
								"content" : "Example Link"
							},
							{
								"type" : "dropdown",
								"component" : generatedHeaderDropdown
							}
						]
					}
			);

			var generatedHeaderElement = rocket.Fetch(generatedHeader); // Fetch the Header
			document.querySelector("body").insertBefore(generatedHeaderElement, document.querySelector("body").firstChild);

			var generatedButton = rocket.generate.Button({"type" : "basic", "content" : "Hello"}); // Generate a Basic Button
			document.querySelector("main").insertBefore(rocket.Fetch(generatedButton), document.getElementById("padding"));

			var generatedButtonTwo = rocket.generate.Button({"type" : "basic", "content" : "Test 2"}); // Generate a Basic Button
			document.querySelector("main").insertBefore(rocket.Fetch(generatedButtonTwo), document.getElementById("padding"));

			var generatedToggle = rocket.generate.Button({"type" : "toggle"}); // Generate a Toggle Button

			var generatedFooter = rocket.generate.Footer({"content" : "Strobl Industries"}); // Generate a Footer
			document.querySelector("body").appendChild(rocket.Fetch(generatedFooter));

			var generatedSearchbox = rocket.generate.Searchbox(); // Generate a Searchbox
			rocket.Add(true, generatedHeader, generatedSearchbox); // Append the Searchbox to the Header

			rocket.AddListeners(generatedButton, function(x){console.log("First Button Hit!")}); // Listen to the Basic Button
			rocket.AddListeners(generatedButtonTwo,
				function(x){
					console.log(arguments);
					var component = arguments[0];
					var currentColor = rocket.CSS(component, "background-color"); // Get the current color of the button (if anything)

					if (currentColor !== "red"){ // If the color is NOT red
						rocket.CSS(component, "background-color", "red"); // Change to red
					}
					else{ // If the color is red
						rocket.CSS(component, "background-color", false); // Remove the red
					}
				}
			); // Listen to the Basic Button

			rocket.AddListeners(generatedSearchbox, function(x){console.log(x)}); // Listen to the Searchbox value change

			var testListItem = rocket.Define("list-item", 'header > div[data-rocket-component="dropdown"] > div[data-rocket-component="list"] > div:first-of-type');
			var secondListItem = rocket.Define("list-item", 'header > div[data-rocket-component="dropdown"] > div[data-rocket-component="list"] > div:nth-of-type(2)');

			rocket.listitem.SetLabel(testListItem, "First!");
			rocket.listitem.SetControl(testListItem, generatedToggle);

			rocket.AddListeners(generatedToggle, function(x){console.log(x)}); // Listen to the Generated Toggle Button
			rocket.AddListeners(secondListItem, function(x){console.log("List Item Hit!")}); // Listen to the second List Item
		</script>
	</body>
</html>
